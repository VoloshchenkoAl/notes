---
title: –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è –≥—Ä–∞—Ñ—ñ—á–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç—É –≤ ASCII —Å–∏–º–≤–æ–ª–∏
date: 2023-02-23
description: –ï–∫—Å–ø–µ—Ä–µ–º–µ–Ω—Ç –∑ canvas —Ç–∞ –π–æ–≥–æ –º–æ–∂–ª–∏–≤–æ—Å—Ç—è–º–∏ —É —Ä–æ–±–æ—Ç—ñ –∑ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è–º–∏
tags:
  - javascript
  - canvas
---

–Ø–∫–æ—Å—å –∑—Ä–æ–∑—É–º—ñ–≤, —â–æ —É –ø–æ–≤—Å—è–∫–¥–µ–Ω–Ω—ñ–π —Ä–æ–±–æ—Ç—ñ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é `canvas`. –•–æ—á–∞ –∑–∞–≤–¥—è–∫–∏ –π–æ–≥–æ `API` –º–æ–∂–Ω–∞ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ —Ñ–∞–Ω—Ç–∞—Å—Ç–∏—á–Ω—ñ –ø—Ä–æ—î–∫—Ç–∏

–ù–∞–ø—Ä–∏–∫–ª–∞–¥, –æ—Å—å –¥–µ–∫—ñ–ª—å–∫–∞ —Å–∞–π—Ç—ñ–≤, —è–∫—ñ –∑–±–µ—Ä—ñ–≥ —Å–æ–±—ñ –¥–ª—è –Ω–∞—Ç—Ö–Ω–µ–Ω–Ω—è:

- [–ü–æ—Ä—Ç—Ñ–æ–ª—ñ–æ –∑ –∞–≤—Ç–æ–º–æ–±—ñ–ª–µ–º üèéÔ∏è](https://bruno-simon.com/)
- [–ì–µ–Ω–µ—Ä–∞—Ç–∏–≤–Ω–∞ –≥—Ä–∞—Ñ—ñ–∫–∞](https://epok.tech/work/tendrils/)
- [–ë–∞–≥–µ—Ç–Ω–∏–π —Å–ø—Ä–∏–Ω—Ç](https://artsandculture.google.com/experiment/ZQFQrRgrvmOImQ)
- [–ê–≤—Ç–æ–º–æ–±—ñ–ª—å–Ω–∞ –≥—Ä–∞ –∑ –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–æ—é –¥–æ—Ä–æ–≥–æ—é](https://slowroads.io/)
- [–ö–∞–Ω–≤–∞—Å –¥–ª—è –º–∞–ª—é–≤–∞–Ω–Ω—è](https://excalidraw.com/)

–¢–æ–º—É —â–æ–± —Ç—Ä–æ—Ö–∏ –∑–∞–Ω—É—Ä–∏—Ç–∏—Å—è –≤ `canvas API` –≤–∏—Ä—ñ—à–∏–≤ —Ç–∞–∫–æ–∂ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–µ–≤–µ–ª–∏—á–∫–∏–π –ø—Ä–æ—î–∫—Ç, –∞–ª–µ –∑—ñ –∑–Ω–∞—á–Ω–æ –ø—Ä–æ—Å—Ç—ñ—à–∏–º —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª–æ–º

## –Ø–∫–∞ —ñ–¥–µ—è –ø—Ä–æ—î–∫—Ç—É?

–Ü–¥–µ—è –ø—Ä–æ—î–∫—Ç—É ‚Äî –Ω–∞–≤—á–∏—Ç–∏—Å—è –∫–æ–Ω–≤–µ—Ä—Ç—É–≤–∞—Ç–∏ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –≤ ASCII —Å–∏–º–≤–æ–ª–∏

–ü—Ä–∏–∫–ª–∞–¥ —Ç–æ–≥–æ, —â–æ –ø–ª–∞–Ω—É—é –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–ª—è –∫–∞—Ä—Ç–∏–Ω–æ–∫. –ó–ª—ñ–≤–∞ ‚Äî –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫–∞, —Å–ø—Ä–∞–≤–∞ ‚Äî –∫–æ–Ω–≤–µ—Ä—Ç–æ–≤–∞–Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫–∞ –≤ ascii —Å–∏–º–≤–æ–ª–∏

![example of idea](/assets/images/to-ascii/example.png)

## –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è

### –ê–ª–≥–æ—Ä–∏—Ç–º

–ü–µ—Ä–µ–¥ –Ω–∞–ø–∏—Å–∞–Ω–Ω—è–º –∫–æ–¥—É —Ñ–æ—Ä–º–∞–ª—ñ–∑—É—é –∞–ª–≥–æ—Ä–∏—Ç–º, –∑–∞ —è–∫–∏–º –±—É–¥–µ –≤—ñ–¥–±—É–≤–∞—Ç–∏—Å—è –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–∞—Ä—Ç–∏–Ω–∫–∏ –≤ —Å–∏–º–≤–æ–ª–∏:

- –î—ñ—Å—Ç–∞–≤–∞–Ω–Ω—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –∫–æ–ª—ñ—Ä –∫–æ–∂–Ω–æ–≥–æ –ø—ñ–∫—Å–µ–ª—è –∫–∞—Ä—Ç–∏–Ω–∫–∏
- –ü–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–ª—å–æ—Ä–æ–≤–æ–≥–æ –ø—ñ–∫—Å–µ–ª—è —É —Å—ñ—Ä–∏–π –≤—ñ–¥—Ç—ñ–Ω–æ–∫
- –ó–∞–º—ñ–Ω–∞ —Å—ñ—Ä–æ–≥–æ –≤—ñ–¥—Ç—ñ–Ω–∫—É –Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–π ascii —Å–∏–º–≤–æ–ª

–û—Å–Ω–æ–≤–Ω–∞ —ñ–¥–µ—è –∞–ª–≥–æ—Ä–∏—Ç–º—É ‚Äî¬†–∑–Ω–∞–π—Ç–∏ —Å–ø–æ—Å—ñ–± –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–∏ —è–∫–∏–π—Å—å –∫–æ–ª—ñ—Ä –∑ –∫–∞—Ä—Ç–∏–Ω–∫–∏ —É –≤–∏–≥–ª—è–¥—ñ ASCII —Å–∏–º–≤–æ–ª—É. –£ –¥–∞–Ω–æ–º—É –≤–∏–ø–∞–¥–∫—É –±—É–¥–µ –≤—ñ–¥–±—É–≤–∞—Ç–∏—Å—è –∑–∞–º—ñ–Ω–∞ –Ω–∞—Å–∏—á–µ–Ω–æ—Å—Ç—ñ –∫–æ–ª—å–æ—Ä—É –Ω–∞ —Å–∏–º–≤–æ–ª ‚Äî —á–∏–º —Ç–µ–º–Ω—ñ—à–∏–π –∫–æ–ª—ñ—Ä, —Ç–∏–º —â—ñ–ª—å–Ω—ñ—à–∏–π –±—É–¥–µ —Å–∏–º–≤–æ–ª. –£–º–æ–≤–Ω–æ: —Ç–µ–º–Ω–æ-–≥–æ–ª—É–±–∏–π –∫–æ–ª—ñ—Ä –±—É–¥–µ ‚Äî `√ë`, –∞ —Å–≤—ñ—Ç–ª–æ-–∂–æ–≤—Ç–∏–π ‚Äî `+`. –û—Å–∫—ñ–ª—å–∫–∏ –∫–æ–ª—å–æ—Ä—ñ–≤ –±–∞–≥–∞—Ç–æ, —Ç–æ –¥–ª—è —ó—Ö –Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—ó –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è —É —Å—ñ—Ä–∏–π –≤—ñ–¥—Ç—ñ–Ω–æ–∫. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–ª—è rgb-—Å–∏—Å—Ç–µ–º–∏ –¥–æ—Å—Ç—É–ø–Ω–æ 256 –≤—ñ–¥—Ç—ñ–Ω–∫—ñ–≤ —Å—ñ—Ä–æ–≥–æ, —è–∫—â–æ –≤—Ä–∞—Ö–æ–≤—É–≤–∞—Ç–∏ –∫—Ä–∞–π–Ω—ñ —Ç–æ—á–∫–∏ —É –≤–∏–≥–ª—è–¥—ñ —á–æ—Ä–Ω–æ–≥–æ —Ç–∞ –±—ñ–ª–æ–≥–æ –∫–æ–ª—å–æ—Ä—ñ–≤

–ö–∞—Ä—Ç–∏–Ω–∫–∞ –¥–ª—è –≤—ñ–∑—É–∞–ª—å–Ω–æ—ó —ñ–ª—é—Å—Ç—Ä–∞—Ü—ñ—ó

![Converting color to gray to ascii](/assets/images/to-ascii/color-to-gray-to-ascii.png)

#### –î—ñ—Å—Ç–∞–≤–∞–Ω–Ω—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ –∫–æ–ª—ñ—Ä –∫–∞—Ä—Ç–∏–Ω–∫–∏

–í canvas api —î –º–µ—Ç–æ–¥ [`getImageData`](https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/getImageData), —è–∫–∏–π –ø–æ–≤–µ—Ä—Ç–∞—î –æ–± º—î–∫—Ç [`ImageData`](https://developer.mozilla.org/en-US/docs/Web/API/ImageData). –û–± º—î–∫—Ç `ImageData` –º—ñ—Å—Ç–∏—Ç–∏ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –∫–æ–ª—ñ—Ä –∫–æ–∂–Ω–æ–≥–æ –ø—ñ–∫—Å–µ–ª—è –ø–µ–≤–Ω–æ—ó –æ–±–ª–∞—Å—Ç—ñ `canvas`. –í–∞–∂–ª–∏–≤–æ —Ä–æ–∑—É–º—ñ—Ç–∏, —â–æ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –∫–æ–ª—ñ—Ä –ø—ñ–∫—Å–µ–ª—ñ–≤ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ –æ–¥–Ω–æ–º—ñ—Ä–Ω–æ–º—É –º–∞—Å–∏–≤—ñ, –¥–µ –∫–æ–∂–Ω—ñ 4 –ø–æ—Å–ø—ñ–ª—å –µ–ª–µ–º–µ–Ω—Ç–∏ –º–∞—Å–∏–≤—É –º—ñ—Å—Ç—è—Ç—å —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –∫–æ–ª—ñ—Ä –æ–¥–Ω–æ–≥–æ –ø—ñ–∫—Å–µ–ª—è –≤ `rgba`.

–ê–ª–µ —è–∫ –≤—Å—Ç–∞–≤–∏—Ç–∏ –∫–∞—Ä—Ç–∏–Ω–∫—É –≤ `canvas`? –î–ª—è —Ü—å–æ–≥–æ —î –º–µ—Ç–æ–¥ [`drawImage`](https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/drawImage), —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î –≤—ñ–¥–º–∞–ª—é–≤–∞—Ç–∏ –∫–∞—Ä—Ç–∏–Ω–∫—É –≤ `canvas`

–¢–µ–∫—Å—Ç –≤–∏—â–µ —É –≤–∏–≥–ª—è–¥—ñ `html` —Ç–∞ `js` –∫–æ–¥—É:

```html
<figure>
  <img
    src="https://images.unsplash.com/photo-1659992271797-c34f19b6f076?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2076&q=80"
    alt=""
    width="680"
    class="image-js"
    crossorigin
  />
  <figcaption>Original Image</figcaption>
</figure>
<figure>
  <canvas class="canvas-js"></canvas>
  <figcaption>Canvas Image</figcaption>
</figure>
```

```js
const img = document.querySelector('.image-js');

img.onload = function () {
  const { width: sceneWidth, height: sceneHeight } = img;

  const canvas = document.querySelector('.canvas-js');
  const ctx = canvas.getContext('2d');

  canvas.width = sceneWidth;
  canvas.height = sceneHeight;

  ctx.drawImage(img, 0, 0, sceneWidth, sceneHeight);

  const imageData = ctx.getImageData(0, 0, sceneWidth, sceneHeight);
  const data = imageData.data;

  console.log(data); // –º–∞—Å–∏–≤ –∑ 1226720 –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ [109, 140, 151, 255, ...]
};
```

–£ –¥–∞–Ω–æ–º—É —à–º–∞—Ç–æ—á–∫—É –∫–æ–¥—É —Å–ø–æ—á–∞—Ç–∫—É –æ—á—ñ–∫—É—î—Ç—å—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∫–∞—Ä—Ç–∏–Ω–∫–∏. –ü—ñ—Å–ª—è —ó—ó –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è ‚Äî –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –≤—ñ–¥–º–∞–ª—é–≤–∞–Ω–Ω—è –∫–∞—Ä—Ç–∏–Ω–∫–∏ —É `canvas` –∑–∞–≤–¥—è–∫–∏ `drawImage`. –í—ñ–¥–º–∞–ª—é–≤–∞–≤—à–∏ –∫–∞—Ä—Ç–∏–Ω–∫—É, —î –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –¥—ñ—Å—Ç–∞—Ç–∏ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –∫–æ–ª—å–æ—Ä–∏ –ø—ñ–∫—Å–µ–ª—ñ–≤ —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥ `getImageData`. –£ —Ü—å–æ–º—É –ø—Ä–∏–∫–ª–∞–¥—ñ –º–µ—Ç–æ–¥ `getImageData` –ø–æ–≤–µ—Ä—Ç–∞—î –º–∞—Å–∏–≤ –∑ `1226720` –µ–ª–µ–º–µ–Ω—Ç—ñ–≤. –ü–µ—Ä—à—ñ —á–æ—Ç–∏—Ä–∏ –µ–ª–µ–º–µ–Ω—Ç–∏ –º–∞—Å–∏–≤—É ‚Äî `[109, 140, 151, 255]` –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—Ç—å –∑–∞ –∫–æ–ª—ñ—Ä `rgba(109, 140, 151, 255)` –ø–µ—Ä—à–æ–≥–æ –ø—ñ–∫—Å–µ–ª—è –∫–∞—Ä—Ç–∏–Ω–∫–∏.

–ù–∞ –¥–∞–Ω–æ–º—É –µ—Ç–∞–ø—ñ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –∫–∞—Ä—Ç–∏–Ω–∫–∏ –∑ `img` –≤ `canvas`

[codepen VoloshchenkoAl rNrXQpy dark 376]

#### –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è –∫–æ–ª—å–æ—Ä—ñ–≤ —É —Å—ñ—Ä—ñ –≤—ñ–¥—Ç—ñ–Ω–∫–∏

–î–ª—è –º–µ–Ω–µ –±—É–ª–æ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è–º, –∞–ª–µ —ñ—Å–Ω—É—î —è–∫ –º—ñ–Ω—ñ–º—É–º [13 —Ä—ñ–∑–Ω–∏—Ö –º–µ—Ç–æ–¥—ñ–≤](https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0029740#s2) –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏—Ç–∏ –ø–µ–≤–Ω–∏–π –∫–æ–ª—ñ—Ä —É —Å—ñ—Ä–∏–π –≤—ñ–¥—Ç—ñ–Ω–æ–∫. –£ –¥–∞–Ω–æ–º—É –ø—Ä–∏–∫–ª–∞–¥—ñ –±—É–¥–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—è —Ñ–æ—Ä–º—É–ª–∞: $$g = {max(R, G, B) + min(R, G, B)\over 2}$$

–°–∫–æ–º–±—ñ–Ω—É—î–º–æ —Ü—é —Ñ–æ—Ä–º—É–ª—É –∑ –∫–æ–¥–æ–º –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ –µ—Ç–∞–ø—É

```js
const imageData = ctx.getImageData(0, 0, sceneWidth, sceneHeight);
const data = imageData.data;

for (let x = 0; x < sceneWidth; x++) {
  for (let y = 0; y < sceneHeight; y++) {
    const pixelIndex = (x + y * sceneWidth) * 4; // –∫–æ–Ω–≤–µ—Ä—Ç—É—î–º–æ –¥–≤–æ–º—ñ—Ä–Ω–∏–π –º–∞—Å–∏–≤ —É –æ–¥–Ω–æ–≤–∏–º—ñ—Ä–Ω–∏–π
    const r = data[pixelIndex];
    const g = data[pixelIndex + 1];
    const b = data[pixelIndex + 2];
    const gray = rgbToGray(r, g, b);

    data[pixelIndex] = gray;
    data[pixelIndex + 1] = gray;
    data[pixelIndex + 2] = gray;
  }
}

ctx.putImageData(imageData, 0, 0);

function rgbToGray(r, g, b) {
  return Math.round((Math.max(r, g, b) + Math.min(r, g, b)) / 2);
}
```

–ö–æ–¥ –≤–∏—â–µ –º–æ–∂–Ω–∞ —Ä–æ–∑–¥—ñ–ª–∏—Ç–∏ –Ω–∞ 3 —Å–∫–ª–∞–¥–æ–≤—ñ:

1. –î—ñ—Å—Ç–∞—î–º–æ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –∫–æ–ª—ñ—Ä –∫–æ–∂–Ω–æ–≥–æ –ø—ñ–∫—Å–µ–ª—è –∑ `canvas` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –≤–∂–µ –≤—ñ–¥–æ–º—É —Ñ—É–Ω–∫—Ü—ñ—é `getImageData`. –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –∫–æ–ª—å–æ—Ä–∏ –ø—ñ–∫—Å–µ–ª—ñ–≤ –∑–Ω–∞—Ö–æ–¥—è—Ç—å—Å—è –≤ –æ–¥–Ω–æ–≤–∏–º—ñ—Ä–Ω–æ–º—É –º–∞—Å–∏–≤—ñ `data`, —Ç–æ–º—É —â–æ–± –¥—ñ—Å—Ç–∞—Ç–∏—Å—è –¥–æ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ –∫–æ–ª—ñ—Ä –ø—ñ–∫—Å–µ–ª—è, –ø–æ—Ç—Ä—ñ–±–Ω–æ –∫–æ–Ω–≤–µ—Ä—Ç—É–≤–∞—Ç–∏ –¥–≤–æ–≤–∏–º—ñ—Ä–Ω–µ –ø–æ–ª–æ–∂–µ–Ω–Ω—è –ø—ñ–∫—Å–µ–ª—è –∑ `canvas` –≤ –æ–¥–Ω–æ–≤–∏–º—ñ—Ä–Ω–∏–π –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–∫ `data`. –í–ª–∞—Å–Ω–µ —Ü–µ —ñ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è —É –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –¥–ª—è –∑–º—ñ–Ω–Ω–æ—ó `pixelIndex`. –ó–Ω–∞—á–µ–Ω–Ω—è `pixelIndex` –∑ –∫–æ–∂–Ω–æ—é —ñ—Ç–µ—Ä–∞—Ü—ñ—î—é –º–Ω–æ–∂–∏–º–æ –Ω–∞ 4, –æ—Å–∫—ñ–ª—å–∫–∏ –∫–æ–ª—å–æ—Ä–∏ –≤ `data` –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ `rgba` —Ñ–æ—Ä–º–∞—Ç—ñ, —Ç–æ–±—Ç–æ 4 –ø–æ—Å–ø—ñ–ª—å –µ–ª–µ–º–µ–Ω—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—Ç—å –∑–∞ –∫–æ–∂–Ω–∏–π –∑ –∫–∞–Ω–∞–ª—ñ–≤ `rgba`

2. –ö–æ–Ω–≤–µ—Ä—Ç—É—î–º–æ –æ—Ç—Ä–∏–º–∞–Ω–µ `rgba` –∑–Ω–∞—á–µ–Ω–Ω—è –∫–æ–ª—å–æ—Ä—É —É —Å—ñ—Ä–∏–π –≤—ñ–¥—Ç—ñ–Ω–æ–∫

3. –ó–∞–≤–¥—è–∫–∏ —Ñ—É–Ω–∫—Ü—ñ—ó [`putImageData`](https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/putImageData) –≤—ñ–¥–º–∞–ª—å–æ–≤—É—î–º–æ –æ–Ω–æ–≤–ª–µ–Ω—É `imageData` –≤ `canvas`

–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ —Ü–∏—Ö –º–∞–Ω—ñ–ø—É–ª—è—Ü—ñ–π –æ—Ç—Ä–∏–º—É—î–º–æ –∫–∞—Ä—Ç–∏–Ω–∫—É –∫–æ–Ω–≤–µ—Ä—Ç–æ–≤–∞–Ω—É —É –≤—ñ–¥—Ç—ñ–Ω–∫–∏ —Å—ñ—Ä–æ–≥–æ

[codepen VoloshchenkoAl xxaKwbg dark 376]

#### –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è –≤—ñ–¥—Ç—ñ–Ω–∫—ñ–≤ —Å—ñ—Ä–æ–≥–æ —É ASCII —Å–∏–º–≤–æ–ª

–ù–∞–π—Ü—ñ–∫–∞–≤—ñ—à–∞ —á–∞—Å—Ç–∏–Ω–∞: —è–∫ –∫–æ–Ω–≤–µ—Ä—Ç—É–≤–∞—Ç–∏ –≤—ñ–¥—Ç—ñ–Ω–∫–∏ —Å—ñ—Ä–æ–≥–æ —É `ASCII` —Å–∏–º–≤–æ–ª–∏? –ù–∞ –ø–æ—á–∞—Ç–∫—É —Å—Ç–∞—Ç—Ç—ñ –≤–∂–µ –±—É–ª–æ –ø—Ä–æ–≥–æ–≤–æ—Ä–µ–Ω–æ –ø—Ä–∞–≤–∏–ª–æ: —á–∏–º —Ç–µ–º–Ω—ñ—à–∏–π –ø—ñ–∫—Å–µ–ª—å –∫–∞—Ä—Ç–∏–Ω–∫–∏ ‚Äî —Ç–∏–º —â—ñ–ª—å–Ω—ñ—à–∏–π –±—É–¥–µ —Å–∏–º–≤–æ–ª. –ê–ª–µ —â–æ –æ–∑–Ω–∞—á–∞—î "—â—ñ–ª—å–Ω–∏–π —Å–∏–º–≤–æ–ª"? –£–º–æ–≤–Ω–æ –∫–∞–∂—É—á–∏ ‚Äî —á–∏–º —â—ñ–ª—å–Ω—ñ—à–∏–π —Å–∏–º–≤–æ–ª –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ, —Ç–∏–º —Ç–µ–º–Ω—ñ—à–∏–º –≤—ñ–Ω –±—É–¥–µ –≤–∏–¥–∞–≤–∞—Ç–∏—Å—è. –û—Å–∫—ñ–ª—å–∫–∏ `ASCII` —Å–∏–º–≤–æ–ª—ñ–≤ –±–∞–≥–∞—Ç–æ —ñ –≤–æ–Ω–∏ –¥–æ–≤–æ–ª—ñ —Ä—ñ–∑–Ω–æ–º–∞–Ω—ñ—Ç–Ω—ñ, —Ç–æ –≤–∏–±—Ä–∞–≤—à–∏ –∑ –Ω–∏—Ö –ø–æ—Ç—Ä—ñ–±–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ —Ç–∞ –≤–ø–æ—Ä—è–¥–∫—É–≤–∞–≤—à–∏ —ó—Ö –ø–æ —â—ñ–ª—å–Ω–æ—Å—Ç—ñ –º–æ–∂–Ω–∞ –æ—Ç—Ä–∏–º–∞—Ç–∏ –≥—Ä–∞–¥—ñ—î–Ω—Ç, —è–∫–∏–π –ø–æ–¥—ñ–±–Ω–∏–π –¥–æ –≥—Ä–∞–¥—ñ—î–Ω—Ç–∞ –≤—ñ–¥—Ç—ñ–Ω–∫—ñ–≤ —Å—ñ—Ä–æ–≥–æ. –£ —Ü—å–æ–º—É –≤–∏–ø–∞–¥–∫—É –±—É–¥–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—è –ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å `√ë@#W$9876543210?!abc;:+=-,._ `, —è–∫–∞ –≤–∑—è—Ç–∞ –∑ —Å–∞–π—Ç—É [play.ertdfgcvb.xyz](https://play.ertdfgcvb.xyz/)

![Gray to ASCII symbols](/assets/images/to-ascii/gray-to-ascii.png)

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —Ñ—É–Ω–∫—Ü—ñ—é `rgbToGray`, —è–∫–∞ –æ–ø–∏—Å–∞–Ω–∞ –≤–∏—â–µ, –º–æ–∂–ª–∏–≤–æ –æ—Ç—Ä–∏–º–∞—Ç–∏ 256 –≤—ñ–¥—Ç—ñ–Ω–∫—ñ–≤ —Å—ñ—Ä–æ–≥–æ. –¶—ñ –≤—ñ–¥—Ç—ñ–Ω–∫–∏ –º–æ–∂–Ω–∞ –∑—ñ—Å—Ç–∞–≤–∏—Ç–∏ –∑ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—é `√ë@#W$9876543210?!abc;:+=-,._ `.

```js
const imageData = ctx.getImageData(0, 0, sceneWidth, sceneHeight);
const data = imageData.data;

ctx.font = '1px monospace';
ctx.fillStyle = 'white';
ctx.fillRect(0, 0, sceneWidth, sceneHeight);
ctx.fillStyle = 'black';

for (let x = 0; x < sceneWidth; x++) {
  for (let y = 0; y < sceneHeight; y++) {
    const pixelIndex = (x + y * sceneWidth) * 4;
    const r = data[pixelIndex];
    const g = data[pixelIndex + 1];
    const b = data[pixelIndex + 2];
    const gray = rgbToGray(r, g, b);
    const symbol = grayToSymbol(gray);

    ctx.fillText(symbol, x, y);
  }
}

function grayToSymbol(gray) {
  const density = '√ë@#W$9876543210?!abc;:+=-,._ ';
  const index = Math.round(((density.length - 1) / 255) * gray);

  return density.charAt(index);
}
```

–£ –¥–∞–Ω–æ–º—É –∫–æ–¥—ñ –≤—ñ–¥–±—É–ª–æ—Å—å –¥–µ–∫—ñ–ª—å–∫–∞ –∑–º—ñ–Ω:

1. –ü—Ä–∏–±—Ä–∞–Ω–æ –≤—ñ–¥–º–∞–ª—å–æ–≤—É–≤–∞–Ω–Ω—è –∫–∞—Ä—Ç–∏–Ω–∫–∏ –Ω–∞ `canvas`, –æ—Å–∫—ñ–ª—å–∫–∏ –Ω–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—Ç–∏ `ascii` —Å–∏–º–≤–æ–ª–∏
2. –î–æ–¥–∞–Ω–æ —Ñ—É–Ω–∫—Ü—ñ—é `grayToSymbol`, —è–∫–∞ –∫–æ–Ω–≤–µ—Ä—Ç—É—î –≤—ñ–¥—Ç—ñ–Ω–æ–∫ —Å—ñ—Ä–æ–≥–æ —É `ascii` —Å–∏–º–≤–æ–ª
3. –ü–µ—Ä–µ–¥ —ñ—Ç–µ—Ä–∞—Ü—ñ—î—é –æ–ø–∏—Å–∞–Ω–æ –¥–µ–∫—ñ–ª—å–∫–∞ –º–∞–Ω—ñ–ø—É–ª—è—Ü—ñ–π –∑ `canvas`, —è–∫—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –¥–ª—è –∫–æ—Ä–µ–∫—Ç–Ω–æ–≥–æ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Å–∏–º–≤–æ–ª—ñ–≤
4. –£ —Å–∞–º—ñ–π —ñ—Ç–µ—Ä–∞—Ü—ñ—ó –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –∑–∞–º—ñ–Ω–∞ –∫–æ–∂–Ω–æ–≥–æ –ø—ñ–∫—Å–µ–ª—è –∫–∞—Ä—Ç–∏–Ω–∫–∏ –Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–π —Å–∏–º–≤–æ–ª

[codepen VoloshchenkoAl ExeYVMb dark 376]

–ê–ª–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤–∏–≥–ª—è–¥–∞—î –Ω–µ –¥—É–∂–µ üò≠

#### –ö–∞–ª—ñ–±—Ä—É–≤–∞–Ω–Ω—è –∞–ª–≥–æ—Ä–∏—Ç–º—É

–†–µ–∑—É–ª—å—Ç–∞—Ç –∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ –∫—Ä–æ–∫—É –Ω–µ –∑–∞–¥–æ–≤—ñ–ª—å–Ω—è—î –º–æ—ó—Ö –æ—á—ñ–∫—É–≤–∞–Ω—å. –°–∏–º–≤–æ–ª–∏ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è –º–∞–ª–µ–Ω—å–∫–∏–º–∏, —Ç–æ–º—É —ó—Ö –∑–æ–≤—Å—ñ–º –Ω–µ –≤–∏–¥–Ω–æ. –©–æ–± –≤–∏–ø—Ä–∞–≤–∏—Ç–∏ —Ü–µ, —Å–ø—Ä–æ–±—É—é –∑–±—ñ–ª—å—à–∏—Ç–∏ —Ä–æ–∑–º—ñ—Ä —Å–∏–º–≤–æ–ª—ñ–≤, –∞ —Ç–∞–∫–æ–∂ –±—É–¥—É –≤—ñ–¥–æ–±—Ä–∞–∂–∞—Ç–∏ –Ω–∞ –∫–∞–Ω–≤–∞—Å—ñ –∫–æ–∂–Ω–∏–π —à–æ—Å—Ç–∏–π –ø—ñ–∫—Å–µ–ª—å

```js
const PIXEL_SHIFT = 6;

ctx.font = `${PIXEL_SHIFT}px monospace`;
ctx.fillStyle = 'white';
ctx.fillRect(0, 0, sceneWidth, sceneHeight);
ctx.fillStyle = 'black';

for (let x = 0; x < sceneWidth / PIXEL_SHIFT; x++) {
  for (let y = 0; y < sceneHeight / PIXEL_SHIFT; y++) {
    const pixelIndex = (x + y * sceneWidth) * 4 * PIXEL_SHIFT;
    const r = data[pixelIndex];
    const g = data[pixelIndex + 1];
    const b = data[pixelIndex + 2];
    const gray = rgbToGray(r, g, b);
    const symbol = grayToSymbol(gray);

    ctx.fillText(symbol, x * PIXEL_SHIFT, y * PIXEL_SHIFT);
  }
}
```

–£ –¥–∞–Ω–æ–º—É –∫–æ–¥—ñ –¥–æ–¥–∞–Ω–æ –∑–º—ñ–Ω–Ω—É `PIXEL_SHIFT`, —è–∫–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø—ñ–∫—Å–µ–ª—ñ–≤, —è–∫—ñ –±—É–¥—É—Ç—å –ø—Ä–æ–ø—É—Å–∫–∞—Ç–∏—Å—è –ø—Ä–∏ –∫–æ–∂–Ω—ñ–π —ñ—Ç–µ—Ä–∞—Ü—ñ—ó

–¶–µ –≤–∂–µ –∫—Ä–∞—â–µ

[codepen VoloshchenkoAl rNZBeNo dark 376]

–¢–µ–ø–µ—Ä —Å–ø—Ä–æ–±—É—î–º–æ —ñ–Ω–≤–µ—Ä—Ç—É–≤–∞—Ç–∏ –∫–æ–ª—å–æ—Ä–∏ —Ç–∞ —Å–∏–º–≤–æ–ª–∏

```js
const PIXEL_SHIFT = 6;

ctx.font = `${PIXEL_SHIFT}px monospace`;
ctx.fillStyle = 'black';
ctx.fillRect(0, 0, sceneWidth, sceneHeight);
ctx.fillStyle = 'white';

// ...

function grayToSymbol(gray) {
  const density = '√ë@#W$9876543210?!abc;:+=-,._ '.split('').reverse().join('');
  const index = Math.round(((density.length - 1) / 255) * gray);

  return density.charAt(index);
}
```

–ó —Ü–∏–º–∏ –∑–º—ñ–Ω–∞–º–∏ —Ñ–æ–Ω `canvas` –≤—ñ–¥–º–∞–ª—å–æ–≤—É—î—Ç—å—Å—è —É —á–æ—Ä–Ω–æ–º—É –∫–æ–ª—å–æ—Ä–∏, –∞ —Å–∏–º–≤–æ–ª–∏ ‚Äî –±—ñ–ª–∏–º. –ü—Ä–∏ —Ü—å–æ–º—É –∑–º—ñ–Ω–∞ —Ç–æ—Ä–∫–Ω—É–ª–∞—Å—å —Ñ—É–Ω–∫—Ü—ñ—ó `grayToSymbol` ‚Äî —â—ñ–ª—å–Ω—ñ—à–∏–π —Å–∏–º–≤–æ–ª —Ç–µ–ø–µ—Ä –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î —Å–≤—ñ—Ç–ª—ñ—à–æ–º—É –≤—ñ–¥—Ç—ñ–Ω–∫—É —Å—ñ—Ä–æ–≥–æ

–†–µ–∑—É–ª—å—Ç–∞—Ç —Ñ—ñ–Ω–∞–ª—å–Ω–æ—ó —ñ—Ç–µ—Ä–∞—Ü—ñ—ó

[codepen VoloshchenkoAl MWqgyKP dark 376]

## –ú–∞—Ç–µ—Ä—ñ–∞–ª–∏

–î–ª—è –Ω–∞–ø–∏—Å–∞–Ω–Ω—è —Å—Ç–∞—Ç—Ç—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é MDN –∑ –æ–ø–∏—Å–æ–º [–º–∞–Ω—ñ–ø—É–ª—è—Ü—ñ—ó –ø—ñ–∫—Å–µ–ª—ñ–≤ –Ω–∞ canvas](https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Pixel_manipulation_with_canvas) —Ç–∞ –≤—ñ–¥–µ–æ –∑ YouTube [ASCII Text Images –∑ p5.js](https://www.youtube.com/watch?v=55iwMYv8tGI)
